<div class="page">
  <div class="center-x">

    <div class="select-container">
      <ng-select
      class="satellite-app-select"
      name="satelliteAppSelect"
      notFoundText="There's no categories with that name"
      placeholder="Filter by category"
      [items]="categories"
      [dropdownPosition]="'bottom'"
      bindLabel="name"
      bindValue="id"
      (change)="onSelectChange($event)"
      [(ngModel)]="categoryId"
      [searchable]="true">
        <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
          <div class="center-y">
            <span [ngOptionHighlight]="search">{{ item.name }}</span>
          </div>
        </ng-template>
      </ng-select>
    </div>

    <div class="page-content full-width grid-container relative">
      <app-spinner [class.hidden]="!isBusy"></app-spinner>
      <div [class.hidden]="isBusy">
        <table
        mat-table
        [dataSource]="dataSource"
        matSort>

        <ng-container matColumnDef="idColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
          <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
        </ng-container>

        <ng-container matColumnDef="nameColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
          <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
        </ng-container>

        <ng-container matColumnDef="latitudeColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Latitude</th>
          <td mat-cell *matCellDef="let element"> {{ element.latitude }} </td>
        </ng-container>

        <ng-container matColumnDef="longitudeColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Longitude</th>
          <td mat-cell *matCellDef="let element"> {{ element.longitude }} </td>
        </ng-container>

        <ng-container matColumnDef="altitudeColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Altitude</th>
          <td mat-cell *matCellDef="let element"> {{ element.altitude }} </td>
        </ng-container>

        <ng-container matColumnDef="launchDateColumn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Launch Date</th>
          <td mat-cell *matCellDef="let element"> {{ element.launchDate }} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
    </div>
  </div>
</div>
